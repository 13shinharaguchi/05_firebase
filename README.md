# ハートの送りもの

## DEMO

  - デプロイしている場合はURLを記入（任意）

## 紹介と使い方

  - どんなプロダクトなのか，どのように操作するのか

  - を見た人がわかるように書こう！

## 工夫した点

  - めっちゃ書こう

## 苦戦した点

  - 明日の自分への伝言も大事

## 参考にした web サイトなど

  - 後で見返せるように

## イメージ図
![IMG_1081](https://user-images.githubusercontent.com/117261295/204275560-8c02c25b-bc55-4eb7-b0bf-9eb434c1a735.jpg)
![IMG_1080](https://user-images.githubusercontent.com/117261295/204275786-bcbe566b-f654-472a-93fa-9e29d1ef6f29.jpg)

## 構想
- 持ちはーとは100
- 作業をするときに作業の内容に応じて、使用するハート数をきめて作業をおこなう
- 完了したらハートが減る
- ハートは他の人が送ることで補給できる
- 他の人のハートすうはみれる様にする？（ここはまよう）
- １かいおくるたびに１０回復するようにする（選択制にしてもいいけど）
- コメントも添えるようにするとベスト
- どのくらいもらったかを一覧で表示したい
- ハートほちいボタン（通知）も余力があればする
- 骨組みはイメージ図を参考にする


## 試したこと記録
- firebaseの画面上でドキュメントの中身（フィールドを）追加しても他のものに影響はあるが変更はできる
- 登録して取り出す方法を考える必要がある

## 考察
- マイハートというより、user数管理でハートするを管理したほうがいいのではないか
- マイマートアプリの中にマイハートとuserハートを作って送信する方向をそのコレクションにしたらいいのではないか
- onSnapshotをonkclickの中に入れても動く
- my_heart,user_heartの総ハートは数字を追加するのではなく、pudateする


## 必要部品
### マイエリア
- ハート数の表示 ok
- 送られてきたハート履歴
- タイトル ok
- 作業内容 ok
- 作業したタイトルのみ履歴表示
- 登録ボタン ok
- 完了ボタン
- 一覧に飛ぶボタン
- 愛がたりひんボタン（おねだり通知、できたらで可）

### 一覧エリア
- 他の人のハート数
- 誰に送るかのセレクト
- コメントエリア(なしでも可)
- ハートを送るボタン
- 


## 作業分解

### firebaseの使い方
- コレクションを２つ（自分と他ユーザ）を作って、区別をつける
- ハートを送るときに対象のコレクションを選べる様にする
- 自分のマイナスとプラス、他のユーザーのプラスとマイナスで4つのコレクションをもったほうがスムーズ？

### 作業を登録する
- 作業のタイトル、作業内容、使用するハートを登録する
- 作業内容は今回は表示しなくてもいいかも（優先順位は低い）
- 作業完了ボタンを押すとハートが減る様にする（登録した時に減るでも可）  
持ちハートからへるようにする
- 持ちハートはmy_heartからへるようにして、decreaseに数字をためる

### ハート数の表示（ハートの登録、追加作業をする）、ゲージ表示
- 総合ハートコレクションを作成して、そこの一番新しい数値を表示する
<!-- - 最初の持ちハートは最初に登録した配列の一番はじめに100を持たせて、そこから数字を引いて表示する -->
- 最初のハート - 作業で登録したハート数を計算して表示する
- 最初のハート + 送られてきたハート数を計算して表示する
- firebase側では計算はできないと思うから、画面上で計算する
- 送られてきた履歴は表示件数を10件にして表示する
- 別紙参考にする
- ゲージで使えそうなものをさがす（チャートjs？）

### ハートの増減
- 減少（作業をする）  
自分のコレクションに数字を保存するようにする
- 持ちハートからマイナスにする方法がわからない  
単純に計算しきを立てると増加したいときもマイナスになる可能性が高い
- コレクションを4つにして、１は増加、２は減少、３は増加、４は減少  
みたいにする

### ハートを送る
- ハートをセレクトで送りたい人を選択する  
この時選択した人のコレクションを選ぶようにする。  
ここは繋がることが大事
- コメントを入力してボタンをクリックする（コメントはなくても可）
- 1クリック10回復するようにする
- 他の人のコレクションを選択して、登録するようにする
- 




### 試すこと、悩み
- 配列を時系列に並べて、一番新しいものだけを常に取得して使用する（取り出し方：配列は変更しないほうがいい）
- 総合ハートHPを別にどこかで持つか、それであればもう1つコレクションを増やすことになる
- フロントで計算された数字をちゃんと登録してくれるか val()でいけるのか
- 

## 記録
- 他のコレクションにしても登録、表示はできた